<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-346180-20","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">SBT Settings | ScalaPB</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" property="og:image" content="https://scalapb.github.io/img/scalapb-social-light.png"><meta data-react-helmet="true" property="twitter:image" content="https://scalapb.github.io/img/scalapb-social-light.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for ScalaPB"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="SBT Settings | ScalaPB"><meta data-react-helmet="true" name="description" content="Basic Installation"><meta data-react-helmet="true" property="og:description" content="Basic Installation"><meta data-react-helmet="true" property="og:url" content="https://scalapb.github.io//docs/sbt-settings"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://scalapb.github.io//docs/sbt-settings"><link rel="stylesheet" href="/styles.4ffc83ab.css">
<link rel="preload" href="/styles.d9f02fd2.js" as="script">
<link rel="preload" href="/runtime~main.4e452cf4.js" as="script">
<link rel="preload" href="/main.9d056a55.js" as="script">
<link rel="preload" href="/1.14e18541.js" as="script">
<link rel="preload" href="/2.58541f70.js" as="script">
<link rel="preload" href="/3.1005e50c.js" as="script">
<link rel="preload" href="/1be78505.03b0515d.js" as="script">
<link rel="preload" href="/46.c1c56065.js" as="script">
<link rel="preload" href="/935f2afb.37179c5d.js" as="script">
<link rel="preload" href="/17896441.b286f8ff.js" as="script">
<link rel="preload" href="/9dcf530e.f9b6d3ea.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/ScalaPB.png" alt="ScalaPB"><strong class="navbar__title"></strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/scalapb/ScalaPB" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/ScalaPB.png" alt="ScalaPB"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/scalapb/ScalaPB" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started">Tutorial</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Customizing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/customizations">Customizations</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/sbt-settings">SBT Settings</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generated-code">Generated Code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sealed-oneofs">Sealed oneofs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_defined_options">User-defined options</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/grpc">gRPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scala.js">Scala.js</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sparksql">SparkSQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/json">JSON</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scalapbc">ScalaPBC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/third-party-protos">Using third-party protos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/common-protos">Common protos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/validation">Validation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/writing-plugins">Writing protoc plugins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/upgrading">Upgrading</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Getting Help</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/faq">FAQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contact">Contacting us</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">SBT Settings</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="basic-installation"></a>Basic Installation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#basic-installation" title="Direct link to heading">#</a></h2><p>To automatically generate Scala case classes for your messages add ScalaPB&#x27;s sbt plugin to your project. Create a file named <code>project/plugins.sbt</code> containing the following line (or add the following lines if a file with this name already exists):</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-scala codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">addSbtPlugin(&quot;com.thesamet&quot; % &quot;sbt-protoc&quot; % &quot;1.0.0-RC2&quot;)</span></div><div class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#403f53"><span class="token plain">libraryDependencies += &quot;com.thesamet.scalapb&quot; %% &quot;compilerplugin&quot; % &quot;0.10.8&quot;</span></div></div></div></div></div><p>Add the following line to your <code>build.sbt</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-scala codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">PB.targets in Compile := Seq(</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  scalapb.gen() -&gt; (sourceManaged in Compile).value / &quot;scalapb&quot;</span></div><div class="token-line" style="color:#403f53"><span class="token plain">)</span></div></div></div></div></div><p>Running the <code>compile</code> command in sbt will generate Scala sources from
your protos and compile them. If you just want to generate Scala sources for your protocol buffers without compiling them, run <code>protoc-generate</code>.</p><p>Additionally, if you need <a href="/docs/customizations">customizations</a> from
scalapb/scalapb.proto or anything from <code>google/protobuf/*.proto</code>, add the
following to your <code>build.sbt</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-scala codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">libraryDependencies += &quot;com.thesamet.scalapb&quot; %% &quot;scalapb-runtime&quot; % scalapb.compiler.Version.scalapbVersion % &quot;protobuf&quot;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="defaults"></a>Defaults<a aria-hidden="true" tabindex="-1" class="hash-link" href="#defaults" title="Direct link to heading">#</a></h2><p>The plugin assumes your <code>proto</code> files are under <code>src/main/protobuf</code>,
however this is configurable using the <code>PB.protoSources in Compile</code> setting.</p><p>By default, <code>sbt-protoc</code> invokes <code>protoc</code> 3.x that is shipped with <code>protoc-jar</code>.
If you would like to run a different version of <code>protoc</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-scala codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">PB.protocVersion := &quot;-v3.11.4&quot;</span></div></div></div></div></div><p>See all available options in <a href="https://github.com/thesamet/sbt-protoc" target="_blank" rel="noopener noreferrer">sbt-protoc documentation</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="java-conversions"></a>Java Conversions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#java-conversions" title="Direct link to heading">#</a></h2><p>To enable Java conversions add the following to your build.sbt:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-scala codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">PB.targets in Compile := Seq(</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  PB.gens.java -&gt; (sourceManaged in Compile).value,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  scalapb.gen(javaConversions=true) -&gt; (sourceManaged in Compile).value</span></div><div class="token-line" style="color:#403f53"><span class="token plain">)</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="grpc"></a>gRPC<a aria-hidden="true" tabindex="-1" class="hash-link" href="#grpc" title="Direct link to heading">#</a></h2><p>Generating gRPC stubs for services is enabled by default. To disable:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-scala codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">PB.targets in Compile := Seq(</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  scalapb.gen(grpc=false) -&gt; (sourceManaged in Compile).value</span></div><div class="token-line" style="color:#403f53"><span class="token plain">)</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="additional-options-to-the-generator"></a>Additional options to the generator<a aria-hidden="true" tabindex="-1" class="hash-link" href="#additional-options-to-the-generator" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-scala codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">scalapb.gen(</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  flatPackage: Boolean = false,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  javaConversions: Boolean = false,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  grpc: Boolean = true,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  singleLineToProtoString: Boolean = false,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  asciiFormatToString: Boolean = false,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  lenses: Boolean = true,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  retainSourceCodeInfo: Boolean = false</span></div><div class="token-line" style="color:#403f53"><span class="token plain">)</span></div></div></div></div></div><table><thead><tr><th>Option</th><th>scalapbc</th><th>Description</th></tr></thead><tbody><tr><td><code>flatPackage</code></td><td><code>flat_package</code></td><td>When set, ScalaPB will not append the protofile base name to the package name.</td></tr><tr><td><code>javaConversions</code></td><td><code>java_conversions</code></td><td>Generates in the companion object two functions, <code>toJavaProto</code> and <code>fromJavaProto</code> that convert between the Scala case class and the Java protobufs. For the generated code to compile, the Java protobuf code need to be also generated or available as a library dependency.</td></tr><tr><td><code>grpc</code></td><td><code>grpc</code></td><td>Generates gRPC code for services. Default is <code>true</code> in <code>scalapb.gen</code>, and need to be explicitly specified in <code>scalapbc</code>.</td></tr><tr><td><code>singleLineToProtoString</code></td><td><code>single_line_to_proto_string</code></td><td>By default, ScalaPB generates a <code>toProtoString()</code> method that renders the message as a multi-line format (using <code>TextFormat.printToUnicodeString</code>). If set, ScalaPB generates <code>toString()</code> methods that use the single line format.</td></tr><tr><td><code>asciiFormatToString</code></td><td><code>ascii_format_to_string</code></td><td>Setting this to true, overrides <code>toString</code> to return a standard ASCII representation of the message by calling <code>toProtoString</code>.</td></tr><tr><td><code>lenses</code></td><td><code>no_lenses</code></td><td>By default, ScalaPB generates lenses for each message for easy updating. If you are not using this feature and would like to reduce code size or compilation time, you can set this to <code>false</code> and lenses will not be generated.</td></tr><tr><td><code>retainSourceCodeInfo</code></td><td><code>retain_source_code_info</code></td><td>Retain source code information (locations, comments) provided by protoc in the descriptors. Use the <code>location</code> accessor to get that information from a descriptor.</td></tr></tbody></table></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/customizations"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Customizations</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/generated-code"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Generated Code Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#basic-installation" class="table-of-contents__link">Basic Installation</a></li><li><a href="#defaults" class="table-of-contents__link">Defaults</a></li><li><a href="#java-conversions" class="table-of-contents__link">Java Conversions</a></li><li><a href="#grpc" class="table-of-contents__link">gRPC</a></li><li><a href="#additional-options-to-the-generator" class="table-of-contents__link">Additional options to the generator</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/installation">Installation</a></li><li class="footer__item"><a href="https://scalapb.github.io/api/scalapb" target="_blank" rel="noopener noreferrer" class="footer__link-item">ScalaDoc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/scalapb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://gitter.im/ScalaPB/community" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitter</a></li><li class="footer__item"><a href="https://groups.google.com/g/scalapb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google Groups</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/scalapb/ScalaPB" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2014-2020, <a href="https://www.linkedin.com/in/nadav-samet/">Nadav Samet</a></div></div></div></footer></div>
<script src="/styles.d9f02fd2.js"></script>
<script src="/runtime~main.4e452cf4.js"></script>
<script src="/main.9d056a55.js"></script>
<script src="/1.14e18541.js"></script>
<script src="/2.58541f70.js"></script>
<script src="/3.1005e50c.js"></script>
<script src="/1be78505.03b0515d.js"></script>
<script src="/46.c1c56065.js"></script>
<script src="/935f2afb.37179c5d.js"></script>
<script src="/17896441.b286f8ff.js"></script>
<script src="/9dcf530e.f9b6d3ea.js"></script>
</body>
</html>