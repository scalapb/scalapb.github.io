<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-346180-20","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">ScalaPBC: ScalaPB&#x27;s standalone compiler | ScalaPB</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" property="og:image" content="https://scalapb.github.io/img/scalapb-social-light.png"><meta data-react-helmet="true" property="twitter:image" content="https://scalapb.github.io/img/scalapb-social-light.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for ScalaPB"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="ScalaPBC: ScalaPB&#x27;s standalone compiler | ScalaPB"><meta data-react-helmet="true" name="description" content="ScalaPBC is a tool that lets you generate Scala sources from the command line (or from a maven build)."><meta data-react-helmet="true" property="og:description" content="ScalaPBC is a tool that lets you generate Scala sources from the command line (or from a maven build)."><meta data-react-helmet="true" property="og:url" content="https://scalapb.github.io//docs/scalapbc"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://scalapb.github.io//docs/scalapbc"><link rel="stylesheet" href="/styles.4ffc83ab.css">
<link rel="preload" href="/styles.d9f02fd2.js" as="script">
<link rel="preload" href="/runtime~main.a744d86c.js" as="script">
<link rel="preload" href="/main.9d056a55.js" as="script">
<link rel="preload" href="/1.14e18541.js" as="script">
<link rel="preload" href="/2.58541f70.js" as="script">
<link rel="preload" href="/3.1005e50c.js" as="script">
<link rel="preload" href="/1be78505.03b0515d.js" as="script">
<link rel="preload" href="/46.c1c56065.js" as="script">
<link rel="preload" href="/935f2afb.37179c5d.js" as="script">
<link rel="preload" href="/17896441.b286f8ff.js" as="script">
<link rel="preload" href="/7969e6ea.19666acd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/ScalaPB.png" alt="ScalaPB"><strong class="navbar__title"></strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/scalapb/ScalaPB" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/ScalaPB.png" alt="ScalaPB"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/scalapb/ScalaPB" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started">Tutorial</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Customizing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/customizations">Customizations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sbt-settings">SBT Settings</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generated-code">Generated Code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sealed-oneofs">Sealed oneofs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_defined_options">User-defined options</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/grpc">gRPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scala.js">Scala.js</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sparksql">SparkSQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/json">JSON</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/scalapbc">ScalaPBC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/third-party-protos">Using third-party protos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/common-protos">Common protos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/validation">Validation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/writing-plugins">Writing protoc plugins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/upgrading">Upgrading</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Getting Help</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/faq">FAQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contact">Contacting us</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">ScalaPBC: ScalaPB&#x27;s standalone compiler</h1></header><div class="markdown"><p>ScalaPBC is a tool that lets you generate Scala sources from the command line (or from a maven build).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="installation"></a>Installation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#installation" title="Direct link to heading">#</a></h2><p>You can download the current release here: <a href="https://github.com/scalapb/ScalaPB/releases/download/v0.10.8/scalapbc-0.10.8.zip" target="_blank" rel="noopener noreferrer">scalapbc-0.10.8.zip</a>.</p><p>Older versions can be found in the <a href="https://github.com/scalapb/ScalaPB/releases" target="_blank" rel="noopener noreferrer">releases page</a>.</p><p>Unzip the file, and inside you will find two scripts: <code>bin/scalapbc</code> (and
<code>bin/scalapbc.bat</code>) that can be used on Unix/Linux/Mac OS X (and Windows,
respectively).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="usage"></a>Usage<a aria-hidden="true" tabindex="-1" class="hash-link" href="#usage" title="Direct link to heading">#</a></h2><p>ScalaPBC is used exactly like protoc. In fact, scalapbc calls protoc.
It ships with <a href="https://github.com/os72/protoc-jar" target="_blank" rel="noopener noreferrer">multiple versions</a> of protoc embedded in the jar and you can pick the one you want to use by passing the desired version as the
first command line argument:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">./bin/scalapbc -v3.11.1 </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span></div></div></div></div></div><p>To generate Scala code, invoke ScalaPBC like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">./bin/scalapbc -v3.5.1 --scala_out</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">some/output/directory myproto.proto</span></div></div></div></div></div><p>To generate both Scala code and Java code along with Java conversions:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">./bin/scalapbc -v3.5.1 </span><span class="token punctuation" style="color:rgb(153, 76, 195)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    --scala_out</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">java_conversions:some/output/directory </span><span class="token punctuation" style="color:rgb(153, 76, 195)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    --java_out</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">some/output/directory </span><span class="token punctuation" style="color:rgb(153, 76, 195)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    myproto.proto</span></div></div></div></div></div><blockquote><p>The generated code depends on <code>scalapb-runtime</code> to compile. You will To get the code to work, add a dependency on [https://mvnrepository.com/artifact/com.thesamet.scalapb/scalapb-runtime] to your project. The version of <code>scalapb-runtime</code> needs to match or be newer than the version of the plugin.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="passing-generator-parameters"></a>Passing generator parameters<a aria-hidden="true" tabindex="-1" class="hash-link" href="#passing-generator-parameters" title="Direct link to heading">#</a></h2><p>If you would like to pass additional options, like <code>java_conversions</code>,
<code>flat_package</code>, or <code>single_line_to_proto_string</code>, it can be done like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">bin/scalapbc my.proto --scala_out</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">OPT1,OPT2:path/to/output/dir/</span></div></div></div></div></div><p>where OPT1,OPT2 is a comma-separated list of options, followed by a colon
(<code>:</code>) and then the output directory. For example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">bin/scalapbc my.proto --scala_out</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">flat_package,java_conversions:protos/src/scala/main/</span></div></div></div></div></div><p>The supported parameters are: <code>flat_package</code>, <code>java_conversions</code>, <code>grpc</code> and <code>single_line_to_proto_string</code>, <code>no_lenses</code>, <code>retain_source_code_info</code>.</p><p>Those parameters are described in <a href="/docs/sbt-settings#additional-options-to-the-generator">SBT settings</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="loading-additional-generators-from-maven"></a>Loading additional generators from Maven<a aria-hidden="true" tabindex="-1" class="hash-link" href="#loading-additional-generators-from-maven" title="Direct link to heading">#</a></h2><p>ScalaPBC (starting version 0.10.1) can fetch generators from Maven using
Coursier:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">bin/scalapbc --plugin-artifact=io.grpc:protoc-gen-grpc-java:1.27.2:default,classifier=linux-x86_64,ext=exe,type=jar -- e2e/src/main/protobuf/service.proto --grpc-java_out=/tmp/out -Ie2e/src/main/protobuf -Ithird_party -Iprotobuf</span></div></div></div></div></div><p>If you use zio-grpc, you can use the following command to generate services
that use ZIO. This also generates ScalaPB case classes for messages and the
GRPC descriptors that the generated ZIO code depends on.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">bin/scalapbc --plugin-artifact=com.thesamet.scalapb.zio-grpc:protoc-gen-zio:0.1.0:default,classifier=unix,ext=sh,type=jar -- e2e/src/main/protobuf/service.proto --zio_out=/tmp/out --scala_out=grpc:/tmp/out -Ie2e/src/main/protobuf -Ithird_party -Iprotobuf</span></div></div></div></div></div><p>bin/scalapbc --plugin-artifact=io.grpc:grpc-java:</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="using-scalapb-as-a-proper-protoc-plugin"></a>Using ScalaPB as a proper protoc plugin<a aria-hidden="true" tabindex="-1" class="hash-link" href="#using-scalapb-as-a-proper-protoc-plugin" title="Direct link to heading">#</a></h2><p>You may want to use ScalaPB code generator as a standard protoc plugin (rather
than using scalapbc as a wrapper or through SBT).</p><p>For Linux and Mac OS X, you can download a native executable version of the plugin for Scala from our <a href="https://github.com/scalapb/ScalaPB/releases" target="_blank" rel="noopener noreferrer">release page</a>:</p><ul><li>For Linux: <a href="https://github.com/scalapb/ScalaPB/releases/download/v0.10.8/protoc-gen-scala-0.10.8-linux-x86_64.zip" target="_blank" rel="noopener noreferrer">protoc-gen-scala-0.10.8-linux-x86_64.zip</a></li><li>For OS X: <a href="https://github.com/scalapb/ScalaPB/releases/download/v0.10.8/protoc-gen-scala-0.10.8-osx-x86_64.zip" target="_blank" rel="noopener noreferrer">protoc-gen-scala-0.10.8-osx-x86_64.zip</a></li></ul><p>Those zip files contain native executables of the plugin for the respective operating system built using GraalVM. If you are using another operating system (such as Windows), or prefer to use a JVM based plugin implementation, you will find in <a href="https://github.com/scalapb/ScalaPB/releases/download/v0.10.8/scalapbc-0.10.8.zip" target="_blank" rel="noopener noreferrer">scalapbc-0.10.8.zip</a> an executable named <code>bin/protoc-gen-scala</code> which requires a JVM to run (a JVM needs to be available on the path, or through the <code>JAVA_HOME</code> environment variable)</p><p>To generate code:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">protoc my.protos --plugin=/path/to/bin/protoc-gen-scala --scala_out=scala</span></div></div></div></div></div><p>On Windows:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token plain">protoc my.protos --plugin=protoc-gen-scala=/path/to/bin/protoc-gen-scala.bat --scala_out=scala</span></div></div></div></div></div><p>For passing parameters to the plugin, see the section above.</p><blockquote><p>Note that the standalone plugin provided in <code>scalapbc</code> needs to be able to find a JVM in the path or through <code>JAVA_HOME</code> environment variable. If you encounter unexpected errors, try to execute the plugin directly from the command line, and the output printed may be useful for further debugging.</p></blockquote><blockquote><p>The generated code depends on <code>scalapb-runtime</code> to compile. To get the code to work, add a dependency on <a href="https://mvnrepository.com/artifact/com.thesamet.scalapb/scalapb-runtime" target="_blank" rel="noopener noreferrer">scalapb-runtime</a> to your project. The version of <code>scalapb-runtime</code> needs to match or be newer than the version of the plugin.</p></blockquote></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/json"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« ScalaPB and JSON</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/third-party-protos"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using third-party protos Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation" class="table-of-contents__link">Installation</a></li><li><a href="#usage" class="table-of-contents__link">Usage</a></li><li><a href="#passing-generator-parameters" class="table-of-contents__link">Passing generator parameters</a></li><li><a href="#loading-additional-generators-from-maven" class="table-of-contents__link">Loading additional generators from Maven</a></li><li><a href="#using-scalapb-as-a-proper-protoc-plugin" class="table-of-contents__link">Using ScalaPB as a proper protoc plugin</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/installation">Installation</a></li><li class="footer__item"><a href="https://scalapb.github.io/api/scalapb" target="_blank" rel="noopener noreferrer" class="footer__link-item">ScalaDoc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/scalapb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://gitter.im/ScalaPB/community" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitter</a></li><li class="footer__item"><a href="https://groups.google.com/g/scalapb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google Groups</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/scalapb/ScalaPB" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2014-2020, <a href="https://www.linkedin.com/in/nadav-samet/">Nadav Samet</a></div></div></div></footer></div>
<script src="/styles.d9f02fd2.js"></script>
<script src="/runtime~main.a744d86c.js"></script>
<script src="/main.9d056a55.js"></script>
<script src="/1.14e18541.js"></script>
<script src="/2.58541f70.js"></script>
<script src="/3.1005e50c.js"></script>
<script src="/1be78505.03b0515d.js"></script>
<script src="/46.c1c56065.js"></script>
<script src="/935f2afb.37179c5d.js"></script>
<script src="/17896441.b286f8ff.js"></script>
<script src="/7969e6ea.19666acd.js"></script>
</body>
</html>